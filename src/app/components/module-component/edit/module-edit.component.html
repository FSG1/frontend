<div class="container border-dark">

  <div class="row md-form justify-content-center" style="padding-top: 20px;">
    <div class="col-5">
      <input mdbActive id="moduleName" class="form-control-sm" type="text" [(ngModel)]="output.name">
      <label for="moduleName" class="">* Module name</label>
    </div>
    <div class="col-5">
      <input mdbActive id="moduleCode" class="form-control-sm" type="text" style="text-transform: uppercase;" [(ngModel)]="output.code">
      <label for="moduleCode">* Module code</label>
    </div>
  </div>

  <div class="row md-form justify-content-center align-items-center">
    <div class="col-2">
      <div class="card">
        <div class="card-body">
          <p class="card-text text-center">Semester {{output.semester}}</p>
        </div>
      </div>
    </div>
    <div class="col-2">
      <input mdbActive id="credits" type="number" min="0" class="form-control-sm" ondrop="return false;" (paste)="false" onkeypress="return event.charCode >= 48 && event.charCode <= 57" [(ngModel)]="output.credits">
      <label for="credits">* Credits (ECTS)</label>
    </div>
    <div class="col-2">
      <input mdbActive id="lecturers-in-week" class="form-control-sm" type="number" min="0" ondrop="return false;" (paste)="false" onkeypress="return event.charCode >= 48 && event.charCode <= 57"  [(ngModel)]="output.lectures_in_week">
      <label for="lecturers-in-week">* Lectures / week</label>
    </div>
    <div class="col-2">
      <input mdbActive id="practical-hours" class="form-control-sm" type="number" min="0" ondrop="return false;" (paste)="false" onkeypress="return event.charCode >= 48 && event.charCode <= 57" [(ngModel)]="output.practical_hours_week">
      <label for="practical-hours">* Practical hours / week</label>
    </div>
    <div class="col-2">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Total effort</h4>
          <p class="card-text text-center">{{ calculateTotalEffort()}} hours</p>
        </div>
      </div>
    </div>
  </div>

  <div class="row justify-content-center">
    <div class="col-5">
      <table id="lecturers" class="table table-sm table-striped">
        <tr>
          <th colspan="2">* Lecturers</th>
        </tr>
        <tr class="test-lecturers" *ngFor="let lecturer of output.active_lecturers">
          <td>{{ lecturer.name }}</td>
          <td><button class="btn-outline-danger hoverable" (click)="removeLecturer(lecturer)">X</button></td>
        </tr>
      </table>
    </div>
    <div class="col-5">
      <div class="btn-group" dropdown>
        <button dropdownToggle class="btn btn-sm btn-dark dropdown-toggle" type="button" data-toggle="dropdown">
          {{selectedLecturer.name}}
        </button>
        <ul class="dropdown-menu">
          <li class="dropdown-item" *ngFor="let lect of output.all_lecturers" >
            <a (click)="selectLecturer(lect)">
              {{lect.name}}
            </a>
          </li>
        </ul>
      </div>
      <button type="button" class="btn btn-sm btn-dark" (click)="addLecturer()">Add</button>
    </div>
  </div>

  <div class="row justify-content-center">
    <div class="col-10 md-form">
      <input mdbActive id="credentials" class="form-control-sm" type="text" [(ngModel)]="output.credentials">
      <label for="credentials">Credentials</label>
    </div>
  </div>

  <div class="row justify-content-center">
    <div class="col-10 md-form">
      <textarea mdbActive id="introduction" class="md-textarea" type="text" [(ngModel)]="output.introductorytext"></textarea>
      <label for="introduction">Introduction and motivation</label>
    </div>
  </div>

  <div class="row justify-content-center">
    <div class="col-10 md-form">
      <b> This module is a project:</b> <input style="margin-left:10px;" name="isproject" [(ngModel)]="output.project_flag" type="checkbox"/>
    </div>
  </div>

  <div class="row justify-content-center">
    <div class="col-5">
    <table class="table table-sm table-striped">
      <tr>
        <th colspan="2">* Topics</th>
      </tr>
      <tr class="test-topics" *ngFor="let topic of output.topics">
        <td>{{ topic }} </td>
        <td><button class="btn-outline-danger" (click)="removeTopic(topic)">X</button></td>
      </tr>
      </table>
    </div>
    <div class="col-5 md-form form-sm">
      <input (keyup.enter)="addTopic()" class="form-control" type="text" mdbActive [(ngModel)]="selectedTopic" placeholder="New topic">
      <button type="button" class="btn btn-sm btn-dark" (click)="addTopic()">Add</button>
    </div>
  </div>

  <div class="row justify-content-center">
    <div class="col-5">
      <table class="table table-sm table-striped">
        <tr>
          <th colspan="2">Teaching material</th>
        </tr>
        <tr class="test-teaching-material" *ngFor="let tm of output.teaching_material">
          <td>{{ tm.name }} </td>
          <td><button class="btn-outline-danger" (click)="removeTeachingMaterial(tm.name)">X</button></td>
        </tr>
      </table>
    </div>
    <div class="col-5 md-form form-sm">
      <input mdbActive (keyup.enter)="addTeachingMaterials()" type="text" class="form-control" [(ngModel)]="selectedTeachingMaterial" placeholder="New teaching material">
      <div class="btn-group" dropdown>
        <button dropdownToggle class="btn btn-sm btn-dark dropdown-toggle" type="button" data-toggle="dropdown">
          {{selectedTeachingMaterialType}}
        </button>
        <ul class="dropdown-menu">
          <li class="dropdown-item" *ngFor="let type of output.teaching_material_types" >
            <a (click)="selectTeachingMaterialType(type)">
              {{type}}
            </a>
          </li>
        </ul>
      </div>
      <button type="button" class="btn btn-sm btn-dark" (click)="addTeachingMaterials()">Add</button>
    </div>
  </div>

  <div class="row justify-content-center">
    <div class="col-10 md-form form-sm">
      <textarea mdbActive id="additionalInformation" class="md-textarea" type="text" [(ngModel)]="output.additional_information"></textarea>
      <label for="additionalInformation">Additional information</label>
    </div>
  </div>

  <div class="row justify-content-center" style="padding-bottom: 40px">
    <div class="col-2">
      <button type="button" [disabled]="!canSave()" class="btn btn-dark" (click)="save()">Save</button>
    </div>
    <div class="col-2">
      <button type="button" class="btn btn-danger">Cancel</button>
    </div>
  </div>

</div>
